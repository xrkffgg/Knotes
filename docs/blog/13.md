# Npm å‘å¸ƒ Vue ç»„ä»¶æ•™ç¨‹
## 1 å‰ è¨€
å¹³æ—¶æˆ‘ä»¬åœ¨å¼€å‘çš„æ—¶å€™ç»å¸¸ä½¿ç”¨ `npm` å®‰è£…å„ç§ç»„ä»¶ã€‚

ä»Šå¤©æˆ‘ä»¬å°±æ¥å°è¯•ä¸‹åˆ¶ä½œä¸€ä¸ªè‡ªå·±çš„ç»„ä»¶å‘å¸ƒåˆ° `npm` ä¸Šã€‚

è¿™é‡Œæˆ‘ä»¥è‡ªå·±åˆšå‘å¸ƒçš„ä¸€ä¸ª `Vue` ç»„ä»¶æ¥ä»‹ç»ã€‚æ„Ÿå…´è¶£çš„å¯ä»¥æ¥ä¸‹è½½ç©ç©ã€‚

[k-progress](https://github.com/xrkffgg/k-progress)

### å®‰ è£…
`npm install -S k-progress`

### ä½¿ ç”¨
```
// main.js
import 'k-progress';
import 'k-progress/dist/k-progress.css';
``` 

## 2 å¼€ å‘
### 2.1 æ–°å»ºé¡¹ç›®

æ–°å»ºä¸€ä¸ª `Vue` ï¼Œç†Ÿæ‚‰çš„å¯ä»¥ç›´æ¥ç•¥è¿‡å“ˆã€‚

è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯ `@vue/cli`ã€‚

1. 
```
npm install -g @vue/cli
# OR
yarn global add @vue/cli
```
2. 
æ‰§è¡Œè¯¥å‘½ä»¤ï¼Œå¯æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸã€‚

`vue --version`

3. 
æˆ‘ç»å¸¸ä½¿ç”¨ `vue ui` æ¥æ–°å»ºé¡¹ç›®ï¼Œè¿™ä¸ªå‘½ä»¤ä¼šç”Ÿæˆä¸€ä¸ªå¯è§†åŒ–æ“ä½œé¡µé¢ï¼Œç‰¹åˆ«æ–¹ä¾¿ã€‚

æˆ‘çš„é¡¹ç›®ç”¨åˆ°äº† `scss`ï¼Œæ–°å»ºçš„æ—¶å€™å‹¾é€‰ä¸Šã€‚

è‡³æ­¤é¡¹ç›®æ–°å»ºå®Œæˆã€‚

### 2.2 å¼€å‘åŠŸèƒ½

é»˜è®¤æ–°å»ºçš„é¡¹ç›®æœ‰ä¸ª `HelloWorld.vue` çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªé¡µé¢ï¼Œå¼•ç”¨æˆ‘ä»¬çš„ç»„ä»¶æ¥æ£€æµ‹å¼€å‘æ•ˆæœã€‚

1. 
åœ¨ `src/components` ä¸­ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ª `progress.vue`ï¼Œè¯¥æ–‡ä»¶åç§°éšæ„ã€‚

å…·ä½“çš„æ’ä»¶åŠŸèƒ½åœ¨æ­¤é¡µé¢ç¼–å†™ã€‚



2. 
åœ¨åŒçº§ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª `index.scss` æ–‡ä»¶ç”¨æ¥ä¿å­˜æ’ä»¶ä½¿ç”¨çš„æ ·å¼æ–‡ä»¶ã€‚

3. 
åœ¨åŒçº§ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª `index.js` æ–‡ä»¶æ¥æ³¨å†Œ `Vue` ç»„ä»¶ã€‚

è¿™é‡Œä»¥æˆ‘ä¸ºä¾‹ã€‚

```
import Vue from 'vue';
import kProgress from './progress.vue';
import './index.scss';

const Components = {
    kProgress
};

Object.keys(Components).forEach(name => {
    Vue.component(name, Components[name]);
});

export default Components;
```
4. 
åŒæ—¶æˆ‘ä»¬å¯ä»¥åœ¨ `HelloWorld.vue` æ–‡ä»¶ä¸­æ¥è°ƒç”¨æˆ‘ä»¬çš„ç»„ä»¶æŸ¥çœ‹æ•ˆæœã€‚

## 3 æ„ å»º

æ„å»ºä¸»è¦æ˜¯å¯¹ `package.json` æ–‡ä»¶è¿›è¡Œæ›´æ”¹ã€‚ä»¥æˆ‘çš„ä¸ºä¾‹ã€‚
```
"name": "k-progress",
"version": "1.0.0",
"main": "./dist/k-progress.common.js",
"files": [
    "dist"
],
"private": false,
"scripts": {
    "serve": "vue-cli-service serve",
    "build": "vue-cli-service build",
    "package": "vue-cli-service build --target lib --k-progress main ./src/components/index.js"
},
```

- `name` : æ’ä»¶åç§°ï¼›
- `version` : ç‰ˆæœ¬å·ï¼Œæ¯æ¬¡ `npm publish` éƒ½éœ€è¦è¿›è¡Œæ›´æ”¹ï¼›
- `main` : æ’ä»¶çš„ä¸»æ–‡ä»¶è·¯å¾„ï¼›
- `files` : å‘å¸ƒä¿ç•™çš„æ–‡ä»¶ï¼›
- `private` : è¿™é‡Œè¦æ”¹æˆ `false` ;
- `scripts` : æ‰§è¡Œå‘½ä»¤ï¼›

æ‰§è¡Œ `yarn package` è¿›è¡Œæ„å»ºå‘½ä»¤ï¼Œä¸ç†Ÿæ‚‰ `yarn` çš„å¯ä»¥æ‰§è¡Œ `npm run package`ï¼Œä¸è¿‡çœŸå¿ƒæ¨è `yarn`ã€‚

## 4 å‘ å¸ƒ
### 4.1 æ³¨å†Œè´¦å·

[NPM](https://www.npmjs.com/)

### 4.2 ç™» å½•

åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­ï¼Œæ‰§è¡Œ `npm login`ï¼Œä¼šæç¤ºè®©ä½ è¾“å…¥ `npm` è´¦å·å¯†ç ã€‚

å¯ä»¥é€šè¿‡ `npm whoami` æ¥æ£€æŸ¥è‡ªå·±æ˜¯å¦ç™»å½•æˆåŠŸã€‚

### 4.3 å‘ å¸ƒ
`npm publish`

è¿™é‡Œåˆ—å‡ºå¯èƒ½å‡ºç°çš„ 2 ä¸ªé”™è¯¯ã€‚
1. `"private": true` ä¼šæŠ¥é”™
2. `version` ï¼š`publish` è¿‡ä¸€æ¬¡åï¼Œç›¸åŒç‰ˆæœ¬çš„æ— æ³•å†æ¬¡å‘å¸ƒ

## 5 å è®°
**æ„Ÿè°¢æ”¯æŒã€‚**

**è‹¥ä¸è¶³ä¹‹å¤„ï¼Œæ¬¢è¿å¤§å®¶æŒ‡å‡ºï¼Œå…±å‹‰ã€‚**

**å¦‚æœè§‰å¾—ä¸é”™ï¼Œè®°å¾— ç‚¹èµï¼Œè°¢è°¢å¤§å®¶ ÊšğŸ’–É**

**æ¬¢è¿å…³æ³¨ã€‚** 
- [GitHub](https://github.com/xrkffgg) 
- [æ˜ é‡‘](https://juejin.im/user/59c369496fb9a00a4843a3e2) 
- [ç®€ ä¹¦](https://www.jianshu.com/u/4ca4daac5890)